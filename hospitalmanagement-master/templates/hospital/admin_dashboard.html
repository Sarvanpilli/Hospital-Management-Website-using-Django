{% extends 'hospital/admin_base.html' %}
{% load static %}
{% block content %}
{%include 'hospital/admin_dashboard_cards.html'%}

<div class="container-fluid py-4">
  <div class="row g-4">
    <!-- Doctors Section -->
    <div class="col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h5 class="mb-0">Recent Doctors</h5>
          <a href="#" class="btn btn-light btn-sm">View All</a>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover align-middle">
              <thead class="table-light">
                <tr>
                  <th>Name</th>
                  <th>Department</th>
                  <th>Mobile</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                {% for d in doctors %}
                <tr>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="avatar-sm bg-light rounded-circle me-2">
                        <i class="fas fa-user-md text-primary"></i>
                      </div>
                      {{d.get_name}}
                    </div>
                  </td>
                  <td>{{d.department}}</td>
                  <td>{{d.mobile}}</td>
                  <td>
                    {%if d.status%}
                    <span class="badge bg-success">Permanent</span>
                    {% else %}
                    <span class="badge bg-warning">On Hold</span>
                    {% endif %}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Patients Section -->
    <div class="col-lg-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
          <h5 class="mb-0">Recent Patients</h5>
          <a href="#" class="btn btn-light btn-sm">View All</a>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover align-middle">
              <thead class="table-light">
                <tr>
                  <th>Name</th>
                  <th>Symptoms</th>
                  <th>Mobile</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                {% for p in patients %}
                <tr>
                  <td>
                    <div class="d-flex align-items-center">
                      <div class="avatar-sm bg-light rounded-circle me-2">
                        <i class="fas fa-user text-primary"></i>
                      </div>
                      {{p.get_name}}
                    </div>
                  </td>
                  <td>
                    <span class="text-truncate d-inline-block" style="max-width: 150px;" title="{{p.symptoms}}">
                      {{p.symptoms}}
                    </span>
                  </td>
                  <td>{{p.mobile}}</td>
                  <td>
                    {%if p.status%}
                    <span class="badge bg-success">Admitted</span>
                    {% else %}
                    <span class="badge bg-warning">On Hold</span>
                    {% endif %}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.avatar-sm {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card {
  border: none;
  border-radius: 10px;
}

.card-header {
  border-radius: 10px 10px 0 0 !important;
}

.table > :not(caption) > * > * {
  padding: 1rem;
}

.badge {
  padding: 0.5em 0.75em;
}
</style>

{% endblock content %}
